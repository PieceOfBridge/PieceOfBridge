# Terraform Модуль: Управление Лимитами Хранения

## Описание
Этот Terraform-модуль предназначен для управления лимитами хранения данных в облачной инфраструктуре. Он позволяет настраивать ограничение дискового пространства для различных политик хранения (`Silver` и `Silver+`) в заданном пространстве ресурсов.

## Возможности
- **Настройка лимитов хранения**: Установка максимального объема доступного дискового пространства.
- **Поддержка нескольких политик хранения**: Возможность управления разными уровнями хранения (`Silver`, `Silver+`).
- **Интеграция с существующими политиками хранения**: Автоматическое получение списка доступных политик.
- **Применение лимитов к определенному сайту**: Привязка ограничений хранения к вычислительному сайту.

## Структура каталога
```
├── data.tf             # Источники данных (получение существующих политик хранения)
├── storage_limits.tf   # Определение лимитов хранения
├── variable.tf         # Переменные модуля
├── outputs.tf          # Выходные переменные
├── README.md           # Документация модуля
```

## Предварительные требования
- **Terraform** (`>=1.0.0`)
- **Настроенные учетные данные облачного провайдера**
- **Доступ к управлению хранилищем**

## Использование
### 1. Инициализация Terraform
```sh
terraform init
```

### 2. Проверка конфигурации
```sh
terraform validate
```

### 3. Планирование развертывания
```sh
terraform plan
```

### 4. Применение изменений
```sh
terraform apply -auto-approve
```

### 5. Удаление ресурсов (при необходимости)
```sh
terraform destroy -auto-approve
```

## Переменные
| Имя                      | Описание                                       | Значение по умолчанию |
|--------------------------|----------------------------------------------|------------------|
| `storage_capacity_silver`     | Лимит хранения для политики `Silver` (MB)     | `1000000` (1 ТБ) |
| `storage_capacity_silver_plus`| Лимит хранения для политики `Silver+` (MB)   | `0`  |
| `space_name`             | Пространство ресурсов                        | `identity-dso-scope` |

## Выходные переменные
| Имя                | Описание                                      |
|--------------------|--------------------------------------------|
| `default_space`   | Имя пространства ресурсов                   |
| `storage_policys` | Доступные политики хранения                 |
