# Terraform Проект: Управление Инфраструктурой в Ocean

## Описание
Этот Terraform-проект предназначен для автоматизированного развертывания и управления облачной инфраструктурой в Ocean. Включает в себя модули для создания виртуальной сети (VPC), управления виртуальными машинами (VM), конфигурации DNS и ограничения ресурсов хранения.

## Используемые модули

### 1. **VPC (Виртуальная частная сеть)**
**Источник:** `./modules/ocean_vpc`

**Описание:**
- Создает виртуальную частную сеть (VPC) в Ocean.
- Ассоциирует виртуальные машины с данной VPC.

**Параметры:**
- `vms` — список виртуальных машин, связанных с VPC.

### 2. **Storage Limits (Ограничения хранилища)**
**Источник:** `./modules/storage_limits`

**Описание:**
- Управляет лимитами хранения для виртуальных машин в Ocean.

**Параметры:**
- Нет

### 3. **Unmanaged VM **
**Источник:** `./modules/unmanaged_vm`

**Описание:**
- Разворачивает Unmanaged Virtual Machines в Ocean.

**Параметры:**
- `vpc_name` — имя VPC, к которой привязаны виртуальные машины.
- `subnet_name` — имя подсети, в которой находятся виртуальные машины.
- `external_ip_names` — список внешних IP-адресов, привязанных к виртуальным машинам.
- `state` — состояние виртуальных машин (например, "tool").

### 4. **DNS (Управление DNS-записями)**
**Источник:** `./modules/dns`

**Описание:**
- Управляет DNS-записями виртуальных машин в Ocean.

**Параметры:**
- `vpc_name` — имя VPC, к которой привязаны виртуальные машины.
- `vms` — список виртуальных машин, для которых создаются DNS-записи.
- `ext_ip` — внешний IP, связанный с виртуальными машинами.

## Использование
### 1. Инициализация Terraform
```sh
terraform init
```

### 2. Проверка конфигурации
```sh
terraform validate
```

### 3. Планирование развертывания
```sh
terraform plan
```

### 4. Применение изменений
```sh
terraform apply -auto-approve
```

### 5. Удаление ресурсов (при необходимости)
```sh
terraform destroy -auto-approve
```

## Требования
- **Terraform** (`>=1.0.0`)
- **Настроенные учетные данные облачного провайдера**
